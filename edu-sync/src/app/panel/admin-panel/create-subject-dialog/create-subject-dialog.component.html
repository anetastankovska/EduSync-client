<h2 mat-dialog-title>New subject</h2>
<form
  [formGroup]="form"
  (ngSubmit)="submit()"
  class="dialog-form"
  mat-dialog-content
>
  <mat-form-field appearance="outline">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" required />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Number of classes</mat-label>
    <input
      matInput
      type="number"
      min="0"
      formControlName="numberOfClasses"
      required
    />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Difficulty</mat-label>
    <mat-select formControlName="difficulty" required>
      <mat-option *ngFor="let d of difficultyOptions" [value]="d">{{
        d
      }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Academy</mat-label>
    <mat-select formControlName="academyId" required>
      <mat-option *ngFor="let a of data.academies" [value]="a.id">
        {{ a.name }} (ID {{ a.id }})
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Trainer</mat-label>
    <mat-select formControlName="trainerId" required>
      <mat-option *ngFor="let t of data.trainers" [value]="t.id">
        {{ t.name }} — Academy #{{ t.academyId }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</form>

<div mat-dialog-actions align="end">
  <button mat-button (click)="close()" [disabled]="saving()">Cancel</button>
  <button
    mat-flat-button
    color="primary"
    (click)="submit()"
    [disabled]="saving() || form.invalid"
  >
    {{ saving() ? "Creating…" : "Create subject" }}
  </button>
</div>
